<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nano Banana Studio v19</title>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel (JSX Derleyicisi) -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <!-- Google Fonts & Custom Scrollbar -->
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;900&family=JetBrains+Mono:wght@400;700&display=swap');
        
        body { font-family: 'Inter', sans-serif; background-color: #020617; color: #e2e8f0; }
        .font-mono { font-family: 'JetBrains Mono', monospace; }
        
        /* Custom Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; height: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #0f172a; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #334155; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #475569; }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;

        // --- IKONLAR (Lucide React Alternatifi) ---
        const Icon = ({ path, size = 24, className = "" }) => (
            <svg xmlns="http://www.w3.org/2000/svg" width={size} height={size} viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" className={className}>
                {path}
            </svg>
        );

        // Ä°kon Path TanÄ±mlarÄ±
        const Icons = {
            Wand2: <path d="m21.64 3.64-1.28-1.28a1.21 1.21 0 0 0-1.72 0L2.36 18.64a1.21 1.21 0 0 0 0 1.72l1.28 1.28a1.2 1.2 0 0 0 1.72 0L21.64 5.36a1.2 1.2 0 0 0 0-1.72Z M11 6.5l3.5 3.5 M6 18l2-2" />,
            Image: <><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><circle cx="9" cy="9" r="2"/><path d="m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21"/></>,
            CheckCircle2: <><circle cx="12" cy="12" r="10"/><path d="m9 12 2 2 4-4"/></>,
            Terminal: <><polyline points="4 17 10 11 4 5"/><line x1="12" x2="20" y1="19" y2="19"/></>,
            Layers: <path d="m12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83Z M22 17.65l-9.17 4.16a2 2 0 0 1-1.66 0L2 17.65 M22 12.65l-9.17 4.16a2 2 0 0 1-1.66 0L2 12.65"/>,
            LayoutTemplate: <><rect width="18" height="18" x="3" y="3" rx="2" ry="2"/><line x1="3" x2="21" y1="9" y2="9"/><line x1="9" x2="9" y1="21" y2="9"/></>,
            ChevronRight: <path d="m9 18 6-6-6-6"/>,
            RefreshCw: <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/><path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/><path d="M8 16H3v5"/>,
            Download: <><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="7 10 12 15 17 10"/><line x1="12" x2="12" y1="15" y2="3"/></>,
            Aperture: <><circle cx="12" cy="12" r="10"/><path d="m14.31 8 5.74 9.94"/><path d="M9.69 8h11.48"/><path d="m7.38 12 5.74-9.94"/><path d="M9.69 16 3.95 6.06"/><path d="M14.31 16H2.83"/><path d="m16.62 12-5.74 9.94"/></>,
            Search: <><circle cx="11" cy="11" r="8"/><path d="m21 21-4.3-4.3"/></>,
            Sparkles: <path d="m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275Z"/>,
            Zap: <polygon points="13 2 3 14 12 14 11 22 21 10 12 10 13 2"/>,
            MessageSquare: <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"/>,
            Maximize2: <><polyline points="15 3 21 3 21 9"/><polyline points="9 21 3 21 3 15"/><line x1="21" x2="14" y1="3" y2="10"/><line x1="3" x2="10" y1="21" y2="14"/></>,
            Menu: <><line x1="4" x2="20" y1="12" y2="12"/><line x1="4" x2="20" y1="6" y2="6"/><line x1="4" x2="20" y1="18" y2="18"/></>,
            X: <path d="M18 6 6 18"/><path d="m6 6 12 12"/>,
            Camera: <path d="M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z"/><circle cx="12" cy="13" r="3"/>,
            Upload: <><path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/><polyline points="17 8 12 3 7 8"/><line x1="12" x2="12" y1="3" y2="15"/></>,
            Eye: <><path d="M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z"/><circle cx="12" cy="12" r="3"/></>,
            Sliders: <><line x1="4" x2="4" y1="21" y2="14"/><line x1="4" x2="4" y1="8" y2="3"/><line x1="12" x2="12" y1="21" y2="12"/><line x1="12" x2="12" y1="8" y2="3"/><line x1="20" x2="20" y1="21" y2="16"/><line x1="20" x2="20" y1="12" y2="3"/><line x1="2" x2="6" y1="14" y2="14"/><line x1="10" x2="14" y1="8" y2="8"/><line x1="18" x2="22" y1="16" y2="16"/></>,
            Palette: <circle cx="13.5" cy="6.5" r=".5"/><circle cx="17.5" cy="10.5" r=".5"/><circle cx="8.5" cy="7.5" r=".5"/><circle cx="6.5" cy="12.5" r=".5"/><path d="M12 2C6.5 2 2 6.5 2 12s4.5 10 10 10c.926 0 1.648-.746 1.648-1.688 0-.437-.18-.835-.437-1.125-.29-.289-.438-.652-.438-1.125a1.64 1.64 0 0 1 1.668-1.668h1.996c3.051 0 5.555-2.503 5.555-5.554C21.965 6.012 17.461 2 12 2z"/>,
            Edit: <path d="M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7"/><path d="M18.5 2.5a2.121 2.121 0 0 1 3 3L12 15l-4 1 1-4 9.5-9.5z"/>,
            ChefHat: <path d="M6 13.87A4 4 0 0 1 7.41 6a5.11 5.11 0 0 1 1.05-1.54 5 5 0 0 1 7.08 0A5.11 5.11 0 0 1 16.59 6 4 4 0 0 1 18 13.87V21H6Z"/><line x1="6" x2="18" y1="17" y2="17"/>,
            Shirt: <path d="M20.38 3.46 16 2a4 4 0 0 1-8 0L3.62 3.46a2 2 0 0 0-1.34 2.23l.58 3.47a1 1 0 0 0 .99.84H6v10c0 1.1.9 2 2 2h8a2 2 0 0 0 2-2V10h2.15a1 1 0 0 0 .99-.84l.58-3.47a2 2 0 0 0-1.34-2.23z"/>,
            Share2: <circle cx="18" cy="5" r="3"/><circle cx="6" cy="12" r="3"/><circle cx="18" cy="19" r="3"/><line x1="8.59" x2="15.42" y1="13.51" y2="17.49"/><line x1="15.41" x2="8.59" y1="6.51" y2="10.49"/>,
            ExternalLink: <path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"/><polyline points="15 3 21 3 21 9"/><line x1="10" x2="21" y1="14" y2="3"/>,
            Lock: <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/>,
            Unlock: <rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 9.9-1"/>,
            ShieldCheck: <path d="M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10z"/><path d="m9 12 2 2 4-4"/>
        };

        const renderIcon = (name, size, className) => <Icon path={Icons[name]} size={size} className={className} />;

        // --- TEMPLATES ---
        // (Yer tasarrufu iÃ§in template listesi buraya entegre edildi, v19'un aynÄ±sÄ±)
        const TEMPLATES = [
            { id: 999, category: "â­ Ã–zel Ã‡Ã¶zÃ¼m", title: "Doku ve Kalite Ä°yileÅŸtirme", hasImageUpload: true, json: { concept: "Restorasyon", inputs: { degisiklik: "Make texture hyper-realistic, fix lighting", korunacak: "Keep shape exactly" } } },
            { id: 0, category: "âœ¨ Serbest Mod", title: "AI ile Serbest Ãœretim", hasImageUpload: true, json: { concept: "SÄ±nÄ±rsÄ±z", inputs: { talimat: "Ne yapmak istediÄŸini yaz..." } } },
            { id: 11, category: "ðŸ” Yemek & Mutfak", title: "11. Ä°ÅŸtah AÃ§Ä±cÄ± GÃ¶rsel", hasImageUpload: true, json: { concept: "Gurme", inputs: { detay: "Buhar, sos, taze otlar ekle" } } },
            { id: 27, category: "ðŸ” Yemek & Mutfak", title: "27. Ä°Ã§ecek ReklamÄ±", hasImageUpload: true, json: { concept: "Ä°Ã§ecek", inputs: { detay: "Buz, damlacÄ±klar, ferahlÄ±k" } } },
            { id: 48, category: "ðŸ” Yemek & Mutfak", title: "48. TarÄ±m ÃœrÃ¼nÃ¼", hasImageUpload: true, json: { concept: "DoÄŸal", inputs: { urun: "Taze toplanmÄ±ÅŸ gÃ¶rÃ¼nÃ¼m" } } },
            { id: 117, category: "ðŸ” Yemek & Mutfak", title: "117. Malzemelerden Yemek", hasImageUpload: true, json: { concept: "PiÅŸirme", inputs: { sonuc: "Son hali nasÄ±l olsun?" } } },
            { id: 129, category: "ðŸ” Yemek & Mutfak", title: "129. Patlayan Yiyecekler", hasImageUpload: true, json: { concept: "Dinamik", inputs: { efekt: "Havada uÃ§uÅŸan malzemeler" } } },
            { id: 147, category: "ðŸ” Yemek & Mutfak", title: "147. Kalori Etiketi", hasImageUpload: true, json: { concept: "Bilgi", inputs: { etiketler: "Kalori deÄŸerleri ekle" } } },
            { id: 170, category: "ðŸ” Yemek & Mutfak", title: "170. Yemek FÃ¼zyonu", hasImageUpload: true, json: { concept: "FÃ¼zyon", inputs: { birlesim: "Ä°ki yemeÄŸi tek tabakta birleÅŸtir" } } },
            { id: 10, category: "ðŸ‘— Moda & Giyim", title: "10. KÄ±yafet DeÄŸiÅŸimi", hasImageUpload: true, json: { concept: "Sanal Giyim", inputs: { yeni_kiyafet: "KÄ±rmÄ±zÄ± ipek elbise" } } },
            { id: 52, category: "ðŸ‘— Moda & Giyim", title: "52. TakÄ± & Aksesuar", hasImageUpload: true, json: { concept: "MÃ¼cevher", inputs: { detay: "ParlaklÄ±k, makro Ã§ekim" } } },
            { id: 92, category: "ðŸ‘— Moda & Giyim", title: "92. T-shirt TasarÄ±mÄ±", hasImageUpload: true, json: { concept: "BaskÄ±", inputs: { grafik: "TiÅŸÃ¶rt Ã¼zerindeki desen" } } },
            { id: 114, category: "ðŸ‘— Moda & Giyim", title: "114. SaÃ§ Modeli DeÄŸiÅŸtirme", hasImageUpload: true, json: { concept: "KuafÃ¶r", inputs: { stil: "KÄ±sa kÃ¼t, platin sarÄ±" } } },
            { id: 120, category: "ðŸ‘— Moda & Giyim", title: "120. OOTD (GÃ¼nÃ¼n Kombini)", hasImageUpload: true, json: { concept: "Kombin", inputs: { mekan: "Sokak modasÄ± arka planÄ±" } } },
            { id: 135, category: "ðŸ‘— Moda & Giyim", title: "135. Sanal Makyaj", hasImageUpload: true, json: { concept: "GÃ¼zellik", inputs: { stil: "DoÄŸal tonlar, eyeliner" } } },
            { id: 136, category: "ðŸ‘— Moda & Giyim", title: "136. Makyaj Analizi", hasImageUpload: true, json: { concept: "Analiz", inputs: { vurgu: "Makyaj detaylarÄ±nÄ± Ã¶ne Ã§Ä±kar" } } },
            { id: 151, category: "ðŸ‘— Moda & Giyim", title: "151. Moda KolajÄ±", hasImageUpload: true, json: { concept: "Moodboard", inputs: { tema: "Yaz koleksiyonu" } } },
            { id: 9, category: "ðŸ  Mimari", title: "9. Ä°Ã§ TasarÄ±m DeÄŸiÅŸimi", hasImageUpload: true, json: { concept: "Dekorasyon", inputs: { stil: "Modern, Ä°skandinav" } } },
            { id: 40, category: "ðŸ  Mimari", title: "40. FÃ¼tÃ¼ristik Åžehir", hasImageUpload: true, json: { concept: "Åžehir", inputs: { detay: "UÃ§an arabalar, neon binalar" } } },
            { id: 1, category: "ðŸ“¦ ÃœrÃ¼n & Pazarlama", title: "1. ÃœrÃ¼n TanÄ±tÄ±mÄ±", hasImageUpload: true, json: { concept: "ÃœrÃ¼n", inputs: { atmosfer: "Minimalist, doÄŸal Ä±ÅŸÄ±k" } } },
            { id: 4, category: "ðŸ“¦ ÃœrÃ¼n & Pazarlama", title: "4. Arka Plan DeÄŸiÅŸimi", hasImageUpload: true, json: { concept: "StÃ¼dyo", inputs: { yeni_fon: "Saf beyaz stÃ¼dyo" } } },
            { id: 14, category: "ðŸ‘¤ Karakter", title: "14. Karakter GÃ¶rÃ¼nÃ¼m", hasImageUpload: true, json: { concept: "Karakter", inputs: { degisiklik: "SaÃ§ rengi, kÄ±yafet" } } },
            { id: 168, category: "ðŸ‘¤ Karakter", title: "168. 3D Bobblehead", hasImageUpload: true, json: { concept: "KarikatÃ¼r", inputs: { detay: "Koca kafa, kÃ¼Ã§Ã¼k vÃ¼cut" } } },
            { id: 6, category: "ðŸ“¸ FotoÄŸraf & Edit", title: "6. Tatil FotoÄŸrafÄ±", hasImageUpload: true, json: { concept: "AnÄ±", inputs: { atmosfer: "GÃ¼n batÄ±mÄ± ekle" } } },
            { id: 106, category: "ðŸ“¸ FotoÄŸraf & Edit", title: "106. Kalite Ä°yileÅŸtirme", hasImageUpload: true, json: { concept: "Upscale", inputs: { ayar: "4K, HDR, NetleÅŸtir" } } },
            { id: 169, category: "ðŸŽ¨ Sanat & TasarÄ±m", title: "169. Ink Splash", hasImageUpload: true, json: { concept: "Sanat", inputs: { renk: "MÃ¼rekkep daÄŸÄ±lmasÄ±" } } },
            { id: 171, category: "ðŸŽ¬ Sinema", title: "171. Rooftop Sinematik", hasImageUpload: true, json: { concept: "Atmosfer", inputs: { mekan: "Mavi saat" } } }
        ];

        // --- ANA UYGULAMA (App Component) ---
        const App = () => {
            const [isSidebarOpen, setSidebarOpen] = useState(false);
            const [selectedTemplate, setSelectedTemplate] = useState(TEMPLATES[0]);
            const [inputs, setInputs] = useState(TEMPLATES[0].json.inputs || {});
            const [uploadedImage, setUploadedImage] = useState(null);
            const [generatedPrompt, setGeneratedPrompt] = useState("");
            const [isProcessingPrompt, setIsProcessingPrompt] = useState(false);
            const [isGeneratingImage, setIsGeneratingImage] = useState(false);
            const [generatedImage, setGeneratedImage] = useState(null);
            const [error, setError] = useState(null);
            
            // LÃ¼tfen Kendi API AnahtarÄ±nÄ±zÄ± Buraya Girin (GÃ¼venlik iÃ§in boÅŸ bÄ±rakÄ±ldÄ±)
            const apiKey = ""; 

            useEffect(() => {
                setInputs(selectedTemplate.json.inputs || {});
                setGeneratedPrompt("");
                setGeneratedImage(null);
                setUploadedImage(null);
                setError(null);
            }, [selectedTemplate]);

            const handleInputChange = (key, value) => setInputs(prev => ({ ...prev, [key]: value }));

            // 1. PROMPT ÃœRETÄ°MÄ°
            const handleGeneratePrompt = async () => {
                if(!apiKey) { setError("LÃ¼tfen API AnahtarÄ±nÄ±zÄ± kodun iÃ§indeki 'apiKey' deÄŸiÅŸkenine giriniz."); return; }
                setIsProcessingPrompt(true); setError(null);
                try {
                    const userInputsText = Object.entries(inputs).map(([key, val]) => `${key}: ${val}`).join("\n");
                    const systemInstruction = `You are an Expert AI Prompt Translator. Task: Translate user's Turkish instructions to clear English editing commands for an AI. Do not describe an image if not asked. Just describe the CHANGE. Output ONLY the English instruction string.`;
                    const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {
                        method: "POST", headers: { "Content-Type": "application/json" },
                        body: JSON.stringify({ contents: [{ parts: [{ text: `User Instructions:\n${userInputsText}` }] }], systemInstruction: { parts: [{ text: systemInstruction }] } })
                    });
                    if (!response.ok) throw new Error("Prompt servisi hatasÄ±.");
                    const result = await response.json();
                    const aiPrompt = result.candidates?.[0]?.content?.parts?.[0]?.text;
                    if (aiPrompt) setGeneratedPrompt(aiPrompt.trim()); else throw new Error("AI boÅŸ yanÄ±t dÃ¶ndÃ¼rdÃ¼.");
                } catch (err) { setError(`Prompt HatasÄ±: ${err.message}`); } finally { setIsProcessingPrompt(false); }
            };

            // 2. GÃ–RSEL ÃœRETÄ°MÄ°
            const handleVisualize = async () => {
                if (!generatedPrompt) return;
                if(!apiKey) { setError("API AnahtarÄ± eksik."); return; }
                setIsGeneratingImage(true); setError(null); setGeneratedImage(null);
                try {
                    let response;
                    if (selectedTemplate.hasImageUpload && uploadedImage) {
                        const base64Data = uploadedImage.split(',')[1];
                        response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-image-preview:generateContent?key=${apiKey}`, {
                            method: "POST", headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({ contents: [{ parts: [{ text: `Apply this instruction to the image: ${generatedPrompt}. Maintain the original composition and subject identity perfectly. Output the modified image.` }, { inlineData: { mimeType: "image/jpeg", data: base64Data } }] }], generationConfig: { responseModalities: ["IMAGE"] } })
                        });
                    } else {
                        response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/imagen-4.0-generate-001:predict?key=${apiKey}`, {
                            method: "POST", headers: { "Content-Type": "application/json" },
                            body: JSON.stringify({ instances: [{ prompt: generatedPrompt }], parameters: { sampleCount: 1, aspectRatio: "1:1" } })
                        });
                    }
                    if (!response.ok) throw new Error("Servis hatasÄ±.");
                    const result = await response.json();
                    let base64Image = null;
                    if(result.predictions?.[0]?.bytesBase64Encoded) base64Image = result.predictions[0].bytesBase64Encoded;
                    else if (result.candidates?.[0]?.content?.parts) { const imgPart = result.candidates[0].content.parts.find(p => p.inlineData); if(imgPart) base64Image = imgPart.inlineData.data; }
                    if (base64Image) setGeneratedImage(`data:image/png;base64,${base64Image}`); else throw new Error("GÃ¶rsel oluÅŸturulamadÄ±.");
                } catch (err) { setError(`Ä°ÅŸlem BaÅŸarÄ±sÄ±z: ${err.message}`); } finally { setIsGeneratingImage(false); }
            };

            // 3. ANDROID Ä°Ã‡Ä°N GÃœVENLÄ° Ä°NDÄ°RME
            const handleDownload = async () => {
                if (!generatedImage) return;
                try {
                    const byteString = atob(generatedImage.split(',')[1]);
                    const mimeString = generatedImage.split(',')[0].split(':')[1].split(';')[0];
                    const ab = new ArrayBuffer(byteString.length);
                    const ia = new Uint8Array(ab);
                    for (let i = 0; i < byteString.length; i++) ia[i] = byteString.charCodeAt(i);
                    const blob = new Blob([ab], {type: mimeString});
                    const file = new File([blob], `NanoBanana_${Date.now()}.png`, { type: mimeString });
                    if (navigator.canShare && navigator.canShare({ files: [file] })) {
                        try { await navigator.share({ files: [file], title: 'Nano Banana Render', text: 'Yapay zeka ile oluÅŸturduÄŸum gÃ¶rsel.' }); return; } catch (shareError) { console.warn('PaylaÅŸÄ±m iptal', shareError); }
                    }
                    const blobUrl = URL.createObjectURL(blob);
                    const link = document.createElement('a');
                    link.href = blobUrl; link.download = `NanoBanana_${Date.now()}.png`;
                    document.body.appendChild(link); link.click(); document.body.removeChild(link);
                    setTimeout(() => URL.revokeObjectURL(blobUrl), 100);
                } catch (e) { alert("Ä°ndirme desteklenmiyor. GÃ¶rsele uzun basarak kaydedin."); }
            };

            const handleOpenInNewTab = () => {
                if (!generatedImage) return;
                const win = window.open();
                if(win) { win.document.write(`<img src="${generatedImage}" style="width:100%; height:auto;" />`); win.document.title = "Nano Banana Render"; }
                else { alert("Pop-up engelleyiciyi kapatÄ±n."); }
            };

            // Kategorileri SÄ±rala
            const categories = useMemo(() => {
                const order = ["â­ Ã–zel Ã‡Ã¶zÃ¼m", "âœ¨ Serbest Mod", "ðŸ” Yemek & Mutfak", "ðŸ‘— Moda & Giyim", "ðŸ  Mimari", "ðŸ“¦ ÃœrÃ¼n & Pazarlama", "ðŸ‘¤ Karakter", "ðŸ“¸ FotoÄŸraf & Edit", "ðŸŽ¨ Sanat & TasarÄ±m"];
                const allCats = [...new Set(TEMPLATES.map(t => t.category))];
                return allCats.sort((a, b) => {
                    const indexA = order.indexOf(a); const indexB = order.indexOf(b);
                    if (indexA !== -1 && indexB !== -1) return indexA - indexB;
                    if (indexA !== -1) return -1; if (indexB !== -1) return 1;
                    return a.localeCompare
